{"map":"{\"version\":3,\"sources\":[\"D:/programming/network.v1/cozy-space-client/src/PostItem.tsx\",\"D:/programming/network.v1/cozy-space-client/src/PostsList.tsx\",\"D:/programming/network.v1/cozy-space-client/src/Data.ts\",\"D:/programming/network.v1/cozy-space-client/src/PostSendForm.tsx\",\"D:/programming/network.v1/cozy-space-client/src/Loader.tsx\",\"D:/programming/network.v1/cozy-space-client/src/App.tsx\",\"D:/programming/network.v1/cozy-space-client/src/index.tsx\",\"D:\\\\programming\\\\network.v1\\\\cozy-space-client\\\\node_modules\\\\file-loader\\\\dist\\\\cjs.js??ref--6-oneOf-7!D:\\\\programming\\\\network.v1\\\\cozy-space-client\\\\src\\\\assets\\\\asteroid.svg\"],\"names\":[\"PostMessage\",\"styled\",\"div\",\"_templateObject\",\"_taggedTemplateLiteral\",\"UserData\",\"_templateObject2\",\"UserName\",\"_templateObject3\",\"PostUploadTime\",\"time\",\"_templateObject4\",\"TextMessage\",\"_templateObject5\",\"PostItem\",\"props\",\"Date\",\"timestamp\",\"toLocaleString\",\"navigator\",\"language\",\"hour\",\"minute\",\"React\",\"createElement\",\"name\",\"text\",\"List\",\"PostsList\",\"posts\",\"map\",\"item\",\"key\",\"_id\",\"serverAddress\",\"process\",\"Form\",\"Input\",\"input\",\"Textarea\",\"textarea\",\"Button\",\"button\",\"Label\",\"label\",\"ErrorText\",\"_templateObject6\",\"ErrorTextSmall\",\"_templateObject7\",\"PostSendForm\",\"setName\",\"setText\",\"validName\",\"setValidName\",\"validText\",\"setValidText\",\"hasError\",\"setHasError\",\"onButtonClick\",\"post\",\"trim\",\"onSend\",\"value\",\"onChange\",\"e\",\"target\",\"onBlur\",\"onNameBlur\",\"onKeyPress\",\"preventDefault\",\"onTextBlur\",\"onClick\",\"Loader\",\"style\",\"display\",\"justifyContent\",\"margin\",\"className\",\"Wrapper\",\"section\",\"Main\",\"Title\",\"h1\",\"Img\",\"img\",\"postsInteractive\",\"constructor\",\"this\",\"ws\",\"handleNewPost\",\"WebSocket\",\"concat\",\"setWsHeartbeat\",\"pingTimeout\",\"pingInterval\",\"onmessage\",\"event\",\"data\",\"parsed\",\"JSON\",\"parse\",\"_this$handleNewPost\",\"call\",\"onNewPost\",\"callback\",\"getPosts\",\"fetch\",\"sendPost\",\"App\",\"setPosts\",\"useState\",\"loading\",\"setLoading\",\"fetchPosts\",\"async\",\"newPosts\",\"ms\",\"Promise\",\"resolve\",\"setTimeout\",\"wait\",\"json\",\"useEffect\",\"newPost\",\"src\",\"asteroid\",\"alt\",\"ReactDOM\",\"render\",\"StrictMode\",\"document\",\"getElementById\",\"module\",\"exports\",\"__webpack_require__\",\"p\"],\"mappings\":\"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\",\"sourcesContent\":[\"import React from 'react'\\r\\nimport styled from 'styled-components'\\r\\n\\r\\n\\r\\nconst PostMessage = styled.div`\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n  font-family: 'Tourney', cursive;\\r\\n  font-weight: 900;\\r\\n`\\r\\n\\r\\nconst UserData = styled.div`\\r\\n  display: flex;\\r\\n  flex-direction: row;\\r\\n  justify-content: space-between;\\r\\n  margin-bottom: 8px;\\r\\n  padding: 0 25px;\\r\\n`\\r\\n\\r\\nconst UserName = styled.div`\\r\\n  color: #746087;\\r\\n  font-size: 12px;\\r\\n`\\r\\n\\r\\nconst PostUploadTime = styled.time`\\r\\n  font-size: 12px;\\r\\n  color: #6c6c6c;\\r\\n`\\r\\n\\r\\nconst TextMessage = styled.div`\\r\\n  max-width: 400px;\\r\\n  min-height: 50px;\\r\\n  padding: 15px;\\r\\n  border-radius: 30px;\\r\\n  background-color: #7984e8;\\r\\n  font-size: 14px;\\r\\n  word-wrap: break-word;\\r\\n`\\r\\n\\r\\ninterface Props {\\r\\n  name: string\\r\\n  timestamp: number\\r\\n  text: string\\r\\n}\\r\\n\\r\\nexport function PostItem(props: Props) {\\r\\n  const time = new Date(props.timestamp).toLocaleString(navigator.language, {\\r\\n    hour: '2-digit',\\r\\n    minute: '2-digit',\\r\\n  })\\r\\n  \\r\\n  return (\\r\\n    <PostMessage>\\r\\n      <UserData>\\r\\n        <UserName>{props.name}</UserName>\\r\\n        <PostUploadTime>{time}</PostUploadTime>\\r\\n      </UserData>\\r\\n      <TextMessage>{props.text}</TextMessage>\\r\\n    </PostMessage>\\r\\n  )\\r\\n}\\r\\n\",\"import React from 'react'\\r\\nimport styled from 'styled-components'\\r\\nimport { PostItem } from './PostItem'\\r\\nimport { FullPost } from './types'\\r\\n\\r\\nconst List = styled.div`\\r\\n  max-width: 400px;\\r\\n  margin: 0 auto;\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n  & > *:not(:first-child) {\\r\\n    margin-top: 20px;\\r\\n  }\\r\\n`\\r\\n\\r\\ninterface Props {\\r\\n  posts: FullPost[]\\r\\n}\\r\\n\\r\\nexport function PostsList(props: Props) {\\r\\n  return (\\r\\n    <List>\\r\\n      {props.posts.map((item) => (\\r\\n        <PostItem\\r\\n          key={item._id}\\r\\n          name={item.name}\\r\\n          timestamp={item.timestamp}\\r\\n          text={item.text}\\r\\n        />\\r\\n      ))}\\r\\n    </List>\\r\\n  )\\r\\n}\\r\\n\",\"import { FullPost, Post } from './types'\\r\\nimport { setWsHeartbeat } from 'ws-heartbeat/client'\\r\\n\\r\\nconst serverAddress = process.env.REACT_APP_URL || '127.0.0.1:3001'\\r\\n\\r\\nexport class Posts {\\r\\n  private ws: WebSocket\\r\\n  private handleNewPost?: (post: FullPost) => void \\r\\n  \\r\\n  constructor() {\\r\\n    this.ws = new WebSocket(`wss://${serverAddress}`)\\r\\n    setWsHeartbeat(this.ws, '{\\\"kind\\\":\\\"ping\\\"}', {\\r\\n      pingTimeout: 60000,\\r\\n      pingInterval: 25000, \\r\\n    })\\r\\n    this.ws.onmessage = event => { \\r\\n      const { data } = event\\r\\n      const parsed = JSON.parse(data)\\r\\n      if (parsed.name && parsed.text) {\\r\\n        this.handleNewPost?.(parsed)\\r\\n      } \\r\\n    }\\r\\n  }\\r\\n\\r\\n  onNewPost(callback: (post: FullPost) => void) {\\r\\n    this.handleNewPost = callback\\r\\n  }\\r\\n\\r\\n  getPosts() {\\r\\n    return fetch(`https://${serverAddress}/get_posts`)\\r\\n  }\\r\\n  sendPost(post: Post) {\\r\\n    return fetch(`https://${serverAddress}/send_post?name=${post.name}&text=${post.text}`)\\r\\n  }\\r\\n}\\r\\n\",\"import * as React from 'react'\\r\\nimport styled from 'styled-components'\\r\\nimport { Post } from './types'\\r\\n\\r\\nconst Form = styled.div`\\r\\n  top: 0;\\r\\n  position: sticky;\\r\\n  margin: 0 auto;\\r\\n  margin-bottom: 5%;\\r\\n  padding-top: 5%;\\r\\n  @media (max-width: 320px) {\\r\\n    padding-top: 5px;\\r\\n  }\\r\\n\\r\\n  max-width: 400px;\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n`\\r\\n\\r\\nconst Input = styled.input`\\r\\n  padding: 10px;\\r\\n  background-color: #746087;\\r\\n  border: 1px solid #1e1d1f;\\r\\n  border-radius: 10px;\\r\\n  outline: none;\\r\\n  font-family: 'Tourney', cursive;\\r\\n  font-weight: 800;\\r\\n`\\r\\n\\r\\nconst Textarea = styled.textarea`\\r\\n  resize: none;\\r\\n  min-height: 100px;\\r\\n  padding: 10px;\\r\\n  border-radius: 15px;\\r\\n  outline: none;\\r\\n  border: 1px solid #1e1d1f;\\r\\n  background-color: #746087;\\r\\n  font-family: 'Tourney', cursive;\\r\\n  font-weight: 800;\\r\\n`\\r\\n\\r\\nconst Button = styled.button`\\r\\n  margin-top: 7%;\\r\\n  max-width: 120px;\\r\\n  max-height: 40px;\\r\\n  outline: none;\\r\\n  border-radius: 30px;\\r\\n  background: linear-gradient(45deg, #66538f 30%, #7984e8 60%, #2d3159);\\r\\n  border: transparent;\\r\\n  color: #000;\\r\\n  font-size: 28px;\\r\\n  font-family: 'Bungee Shade', cursive;\\r\\n  font-weight: 900;\\r\\n  cursor: pointer;\\r\\n  letter-spacing: 1px;\\r\\n  text-transform: uppercase;\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  justify-content: center;\\r\\n  transition-duration: 0.5s;\\r\\n  top: 0;\\r\\n  position: relative;\\r\\n  &:hover {\\r\\n    top: 5px;\\r\\n  }\\r\\n`\\r\\n\\r\\nconst Label = styled.label`\\r\\n  margin-top: 25px;\\r\\n  margin-bottom: 8px;\\r\\n  color: #746087;\\r\\n  font-size: 20px;\\r\\n  font-family: 'Tourney', cursive;\\r\\n`\\r\\n\\r\\nconst ErrorText = styled.div`\\r\\n  font-family: 'Tourney', cursive;\\r\\n  margin-top: 3rem;\\r\\n  margin-bottom: 5%;\\r\\n  padding: 8px;\\r\\n  color: #4ef2e7;\\r\\n  text-align: center; \\r\\n  font-size: 20px;     \\r\\n  font-weight: 600;\\r\\n  border: 2px solid  #4ef2e7;\\r\\n  border-radius: 15px; \\r\\n  max-width: 400px;\\r\\n  max-height: 100px;\\r\\n  display: flex;\\r\\n  justify-content: center;\\r\\n  align-items: center;\\r\\n`\\r\\n\\r\\nconst ErrorTextSmall = styled.div`\\r\\n  color: #4ef2e7;\\r\\n  font-size: 14px; \\r\\n  min-height: 14px;\\r\\n  margin-bottom: 2px;\\r\\n`\\r\\n\\r\\ninterface Props {\\r\\n  onSend: (post: Post) => void\\r\\n}\\r\\n\\r\\nexport function PostSendForm(props: Props) {\\r\\n  const [name, setName] = React.useState('')\\r\\n  const [text, setText] = React.useState('')\\r\\n\\r\\n  const [validName, setValidName] = React.useState(true)\\r\\n  const [validText, setValidText] = React.useState(true)\\r\\n  const [hasError, setHasError] = React.useState(false);\\r\\n\\r\\n  const onButtonClick = () => {\\r\\n    const post: Post = {\\r\\n      name,\\r\\n      text,\\r\\n    }\\r\\n    \\r\\n    if (name.trim() && text.trim()){\\r\\n      props.onSend(post) \\r\\n      setHasError(false)\\r\\n    } else {\\r\\n      setHasError(true)\\r\\n    }\\r\\n    setText('')\\r\\n  }\\r\\n\\r\\n  const onKeyEnter = (e: React.KeyboardEvent) => {\\r\\n    if (e.key === 'Enter') {\\r\\n      onButtonClick()\\r\\n      e.preventDefault()\\r\\n    }\\r\\n  }\\r\\n\\r\\n  const onNameBlur = () => { \\r\\n    setValidName(!!name)\\r\\n  }\\r\\n\\r\\n  const onTextBlur = () => {\\r\\n    setValidText(!!text)\\r\\n  }\\r\\n\\r\\n  return (\\r\\n    <Form>\\r\\n      <Label>Your name</Label>\\r\\n      <ErrorTextSmall>{!validName ? 'Please enter the name!' : ''}</ErrorTextSmall>\\r\\n      <Input\\r\\n        value={name}\\r\\n        onChange={(e) => setName(e.target.value)} \\r\\n        onBlur={onNameBlur}\\r\\n      />\\r\\n      <Label>Share what`s in your mind</Label>\\r\\n      <ErrorTextSmall>{!validText ? 'You can`t send empty messages :c' : ''}</ErrorTextSmall>\\r\\n      <Textarea\\r\\n        value={text}\\r\\n        onKeyPress={onKeyEnter}\\r\\n        onChange={(e) => setText(e.target.value)}     \\r\\n        onBlur={onTextBlur}\\r\\n      />\\r\\n      <Button onClick={onButtonClick}>go!</Button>\\r\\n      {hasError && <ErrorText>! You need to fill name and text areas !</ErrorText>}\\r\\n    </Form>\\r\\n  )\\r\\n}\\r\\n\",\"export const Loader = () => {\\r\\n  return (\\r\\n    <div style={{display: 'flex', justifyContent: 'center', margin: '.5rem'}}>\\r\\n      <div className=\\\"loadingio-spinner-bean-eater-hwm2danfbfh\\\">\\r\\n        <div className=\\\"ldio-fgtgkv4yzh6\\\">\\r\\n          <div>\\r\\n            <div></div>\\r\\n            <div></div>\\r\\n            <div></div>\\r\\n          </div>\\r\\n          <div>\\r\\n            <div></div>\\r\\n            <div></div>\\r\\n            <div></div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  )\\r\\n}\\r\\n\",\"import React from 'react'\\r\\nimport styled from 'styled-components'\\r\\nimport asteroid from './assets/asteroid.svg'\\r\\nimport { PostsList } from './PostsList'\\r\\nimport { Posts } from './Data'\\r\\nimport { PostSendForm } from './PostSendForm'\\r\\nimport { Post, FullPost } from './types'\\r\\nimport { Loader } from './Loader'\\r\\n\\r\\nconst Wrapper = styled.section`\\r\\n  max-width: 100%;\\r\\n  margin: 0 auto;\\r\\n  padding: 0 20px 15px;\\r\\n`\\r\\nconst Main = styled.section`\\r\\n  min-height: 100vh;\\r\\n`\\r\\nconst Title = styled.h1`\\r\\n  font-size: 56px;\\r\\n  line-height: 80px;\\r\\n  text-align: center;\\r\\n  font-family: 'Tourney', cursive;\\r\\n  font-weight: 600;\\r\\n  background: linear-gradient(45deg, #41265c 33%, #2efef7 66%, #5f04b4);\\r\\n  background-clip: text;\\r\\n  -webkit-background-clip: text;\\r\\n  -webkit-text-fill-color: transparent;\\r\\n  @media (max-width: 320px) {\\r\\n    margin-top: 5px;\\r\\n    margin-bottom: 0;\\r\\n  }\\r\\n`\\r\\n\\r\\nconst Img = styled.img`\\r\\n  width: 60px;\\r\\n  height: 60px;\\r\\n  max-width: 100%;\\r\\n`\\r\\n\\r\\nconst postsInteractive = new Posts()\\r\\n\\r\\nexport function App() {\\r\\n  const [posts, setPosts] = React.useState<FullPost[]>([])\\r\\n  const [loading, setLoading] = React.useState(false)\\r\\n\\r\\n  const onSend = async (post: Post) => {\\r\\n    await postsInteractive.sendPost(post)\\r\\n  }\\r\\n\\r\\n  const fetchPosts = async () => {\\r\\n    setLoading(true)\\r\\n    const newPosts = await postsInteractive.getPosts()\\r\\n    await wait(3000)\\r\\n    setPosts(await newPosts.json())\\r\\n    setLoading(false)\\r\\n  }\\r\\n\\r\\n  React.useEffect(() => {\\r\\n    fetchPosts()\\r\\n  }, [])\\r\\n\\r\\n  React.useEffect(() => {\\r\\n    postsInteractive.onNewPost((newPost) => {\\r\\n      const newPosts = [newPost, ...posts]\\r\\n      setPosts(newPosts)\\r\\n    })\\r\\n  }, [posts])\\r\\n\\r\\n  return (\\r\\n    <Wrapper>\\r\\n      <Main>\\r\\n        <Title>\\r\\n          Cozy Space <Img src={asteroid} alt=\\\"Asteroid\\\" />\\r\\n        </Title>\\r\\n        {loading ? <Loader /> : <PostSendForm onSend={onSend} />}\\r\\n      </Main>\\r\\n      <PostsList posts={posts} />\\r\\n    </Wrapper>\\r\\n  )\\r\\n}\\r\\n\\r\\nfunction wait(ms: number) {\\r\\n  return new Promise(resolve => setTimeout(resolve, ms))\\r\\n}\",\"import React from 'react'\\nimport ReactDOM from 'react-dom'\\nimport './index.css'\\nimport { App } from './App'\\n\\nReactDOM.render(\\n  <React.StrictMode>\\n    <App />\\n  </React.StrictMode>,\\n  document.getElementById('root')\\n)\\n\",\"module.exports = __webpack_public_path__ + \\\"static/media/asteroid.8ae14acb.svg\\\";\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,n,t){e.exports=t(23)},18:function(e,n,t){},23:function(e,n,t){\"use strict\";t.r(n);var a,i,o,r,c,l=t(0),s=t.n(l),d=t(7),m=t.n(d),u=(t(18),t(1)),p=t(2),x=t(8),g=t.n(x);const f=p.a.div(a||(a=Object(u.a)([\"\\n  display: flex;\\n  flex-direction: column;\\n  font-family: 'Tourney', cursive;\\n  font-weight: 900;\\n\"]))),h=p.a.div(i||(i=Object(u.a)([\"\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: space-between;\\n  margin-bottom: 8px;\\n  padding: 0 25px;\\n\"]))),b=p.a.div(o||(o=Object(u.a)([\"\\n  color: #746087;\\n  font-size: 12px;\\n\"]))),w=p.a.time(r||(r=Object(u.a)([\"\\n  font-size: 12px;\\n  color: #6c6c6c;\\n\"]))),v=p.a.div(c||(c=Object(u.a)([\"\\n  max-width: 400px;\\n  min-height: 50px;\\n  padding: 15px;\\n  border-radius: 30px;\\n  background-color: #7984e8;\\n  font-size: 14px;\\n  word-wrap: break-word;\\n\"])));function E(e){const n=new Date(e.timestamp).toLocaleString(navigator.language,{hour:\"2-digit\",minute:\"2-digit\"});return s.a.createElement(f,null,s.a.createElement(h,null,s.a.createElement(b,null,e.name),s.a.createElement(w,null,n)),s.a.createElement(v,null,e.text))}var y;const j=p.a.div(y||(y=Object(u.a)([\"\\n  max-width: 400px;\\n  margin: 0 auto;\\n  display: flex;\\n  flex-direction: column;\\n  & > *:not(:first-child) {\\n    margin-top: 20px;\\n  }\\n\"])));function k(e){return s.a.createElement(j,null,e.posts.map(e=>s.a.createElement(E,{key:e._id,name:e.name,timestamp:e.timestamp,text:e.text})))}var O=t(12);const S=\"cozy-space.pp.ua\";var z,P,R,N,T,C,B;const J=p.a.div(z||(z=Object(u.a)([\"\\n  top: 0;\\n  position: sticky;\\n  margin: 0 auto;\\n  margin-bottom: 5%;\\n  padding-top: 5%;\\n  @media (max-width: 320px) {\\n    padding-top: 5px;\\n  }\\n\\n  max-width: 400px;\\n  display: flex;\\n  flex-direction: column;\\n\"]))),Y=p.a.input(P||(P=Object(u.a)([\"\\n  padding: 10px;\\n  background-color: #746087;\\n  border: 1px solid #1e1d1f;\\n  border-radius: 10px;\\n  outline: none;\\n  font-family: 'Tourney', cursive;\\n  font-weight: 800;\\n\"]))),_=p.a.textarea(R||(R=Object(u.a)([\"\\n  resize: none;\\n  min-height: 100px;\\n  padding: 10px;\\n  border-radius: 15px;\\n  outline: none;\\n  border: 1px solid #1e1d1f;\\n  background-color: #746087;\\n  font-family: 'Tourney', cursive;\\n  font-weight: 800;\\n\"]))),D=p.a.button(N||(N=Object(u.a)([\"\\n  margin-top: 7%;\\n  max-width: 120px;\\n  max-height: 40px;\\n  outline: none;\\n  border-radius: 30px;\\n  background: linear-gradient(45deg, #66538f 30%, #7984e8 60%, #2d3159);\\n  border: transparent;\\n  color: #000;\\n  font-size: 28px;\\n  font-family: 'Bungee Shade', cursive;\\n  font-weight: 900;\\n  cursor: pointer;\\n  letter-spacing: 1px;\\n  text-transform: uppercase;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  transition-duration: 0.5s;\\n  top: 0;\\n  position: relative;\\n  &:hover {\\n    top: 5px;\\n  }\\n\"]))),I=p.a.label(T||(T=Object(u.a)([\"\\n  margin-top: 25px;\\n  margin-bottom: 8px;\\n  color: #746087;\\n  font-size: 20px;\\n  font-family: 'Tourney', cursive;\\n\"]))),W=p.a.div(C||(C=Object(u.a)([\"\\n  font-family: 'Tourney', cursive;\\n  margin-top: 3rem;\\n  margin-bottom: 5%;\\n  padding: 8px;\\n  color: #4ef2e7;\\n  text-align: center; \\n  font-size: 20px;     \\n  font-weight: 600;\\n  border: 2px solid  #4ef2e7;\\n  border-radius: 15px; \\n  max-width: 400px;\\n  max-height: 100px;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n\"]))),A=p.a.div(B||(B=Object(u.a)([\"\\n  color: #4ef2e7;\\n  font-size: 14px; \\n  min-height: 14px;\\n  margin-bottom: 2px;\\n\"])));function H(e){const[n,t]=l.useState(\"\"),[a,i]=l.useState(\"\"),[o,r]=l.useState(!0),[c,s]=l.useState(!0),[d,m]=l.useState(!1),u=()=>{const t={name:n,text:a};n.trim()&&a.trim()?(e.onSend(t),m(!1)):m(!0),i(\"\")};return l.createElement(J,null,l.createElement(I,null,\"Your name\"),l.createElement(A,null,o?\"\":\"Please enter the name!\"),l.createElement(Y,{value:n,onChange:e=>t(e.target.value),onBlur:()=>{r(!!n)}}),l.createElement(I,null,\"Share what`s in your mind\"),l.createElement(A,null,c?\"\":\"You can`t send empty messages :c\"),l.createElement(_,{value:a,onKeyPress:e=>{\"Enter\"===e.key&&(u(),e.preventDefault())},onChange:e=>i(e.target.value),onBlur:()=>{s(!!a)}}),l.createElement(D,{onClick:u},\"go!\"),d&&l.createElement(W,null,\"! You need to fill name and text areas !\"))}const K=()=>React.createElement(\"div\",{style:{display:\"flex\",justifyContent:\"center\",margin:\".5rem\"}},React.createElement(\"div\",{className:\"loadingio-spinner-bean-eater-hwm2danfbfh\"},React.createElement(\"div\",{className:\"ldio-fgtgkv4yzh6\"},React.createElement(\"div\",null,React.createElement(\"div\",null),React.createElement(\"div\",null),React.createElement(\"div\",null)),React.createElement(\"div\",null,React.createElement(\"div\",null),React.createElement(\"div\",null),React.createElement(\"div\",null)))));var L,M,q,F;const G=p.a.section(L||(L=Object(u.a)([\"\\n  max-width: 100%;\\n  margin: 0 auto;\\n  padding: 0 20px 15px;\\n\"]))),Q=p.a.section(M||(M=Object(u.a)([\"\\n  min-height: 100vh;\\n\"]))),U=p.a.h1(q||(q=Object(u.a)([\"\\n  font-size: 56px;\\n  line-height: 80px;\\n  text-align: center;\\n  font-family: 'Tourney', cursive;\\n  font-weight: 600;\\n  background: linear-gradient(45deg, #41265c 33%, #2efef7 66%, #5f04b4);\\n  background-clip: text;\\n  -webkit-background-clip: text;\\n  -webkit-text-fill-color: transparent;\\n  @media (max-width: 320px) {\\n    margin-top: 5px;\\n    margin-bottom: 0;\\n  }\\n\"]))),V=p.a.img(F||(F=Object(u.a)([\"\\n  width: 60px;\\n  height: 60px;\\n  max-width: 100%;\\n\"]))),X=new class{constructor(){this.ws=void 0,this.handleNewPost=void 0,this.ws=new WebSocket(\"wss://\".concat(S)),Object(O.setWsHeartbeat)(this.ws,'{\"kind\":\"ping\"}',{pingTimeout:6e4,pingInterval:25e3}),this.ws.onmessage=(e=>{const{data:n}=e,t=JSON.parse(n);var a;t.name&&t.text&&(null===(a=this.handleNewPost)||void 0===a||a.call(this,t))})}onNewPost(e){this.handleNewPost=e}getPosts(){return fetch(\"https://\".concat(S,\"/get_posts\"))}sendPost(e){return fetch(\"https://\".concat(S,\"/send_post?name=\").concat(e.name,\"&text=\").concat(e.text))}};function Z(){const[e,n]=s.a.useState([]),[t,a]=s.a.useState(!1),i=async()=>{a(!0);const e=await X.getPosts();await function(e){return new Promise(n=>setTimeout(n,e))}(3e3),n(await e.json()),a(!1)};return s.a.useEffect(()=>{i()},[]),s.a.useEffect(()=>{X.onNewPost(t=>{const a=[t,...e];n(a)})},[e]),s.a.createElement(G,null,s.a.createElement(Q,null,s.a.createElement(U,null,\"Cozy Space \",s.a.createElement(V,{src:g.a,alt:\"Asteroid\"})),t?s.a.createElement(K,null):s.a.createElement(H,{onSend:async e=>{await X.sendPost(e)}})),s.a.createElement(k,{posts:e}))}m.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(Z,null)),document.getElementById(\"root\"))},8:function(e,n,t){e.exports=t.p+\"static/media/asteroid.8ae14acb.svg\"}},[[13,1,2]]]);","extractedComments":[]}