{"code":"(this[\"webpackJsonpcozy-space-client\"]=this[\"webpackJsonpcozy-space-client\"]||[]).push([[0],{25:function(n,e,t){},32:function(n,e,t){\"use strict\";t.r(e);var i,a,r,c,o,s,d=t(1),u=t.n(d),x=t(13),p=t.n(x),l=(t(25),t(20)),j=t(6),b=t.n(j),f=t(9),h=t(4),m=t(2),g=t(3),O=t.p+\"static/media/asteroid.7252a113.svg\",v=t(0),w=g.a.div(i||(i=Object(m.a)([\"\\n  display: flex;\\n  flex-direction: column;\\n  font-family: 'Tourney', cursive;\\n  font-weight: 900;\\n\"]))),y=g.a.div(a||(a=Object(m.a)([\"\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: space-between;\\n  margin-bottom: 8px;\\n  padding: 0 25px;\\n\"]))),k=g.a.div(r||(r=Object(m.a)([\"\\n  color: #746087;\\n  font-size: 12px;\\n\"]))),S=g.a.time(c||(c=Object(m.a)([\"\\n  font-size: 12px;\\n  color: #6c6c6c;\\n\"]))),z=g.a.div(o||(o=Object(m.a)([\"\\n  max-width: 400px;\\n  min-height: 50px;\\n  padding: 15px;\\n  border-radius: 30px;\\n  background-color: #7984e8;\\n  font-size: 14px;\\n  word-wrap: break-word;\\n\"])));function P(n){var e=new Date(n.timestamp).toLocaleString(navigator.language,{hour:\"2-digit\",minute:\"2-digit\"});return Object(v.jsxs)(w,{children:[Object(v.jsxs)(y,{children:[Object(v.jsx)(k,{children:n.name}),Object(v.jsx)(S,{children:e})]}),Object(v.jsx)(z,{children:n.text})]})}var N=g.a.div(s||(s=Object(m.a)([\"\\n  max-width: 400px;\\n  margin: 0 auto;\\n  display: flex;\\n  flex-direction: column;\\n  & > *:not(:first-child) {\\n    margin-top: 20px;\\n  }\\n\"])));function T(n){return Object(v.jsx)(N,{children:n.posts.map((function(n){return Object(v.jsx)(P,{name:n.name,timestamp:n.timestamp,text:n.text},n._id)}))})}var C,B,E,J,Y,_,D,I=t(17),W=t(18),A=t(19),H=\"api-cozy-space.herokuapp.com\",K=function(){function n(){var e=this;Object(I.a)(this,n),this.ws=void 0,this.handleNewPost=void 0,this.ws=new WebSocket(\"wss://\".concat(H)),Object(A.setWsHeartbeat)(this.ws,'{\"kind\":\"ping\"}',{pingTimeout:6e4,pingInterval:25e3}),this.ws.onmessage=function(n){var t,i=n.data,a=JSON.parse(i);a.name&&a.text&&(null===(t=e.handleNewPost)||void 0===t||t.call(e,a))}}return Object(W.a)(n,[{key:\"onNewPost\",value:function(n){this.handleNewPost=n}},{key:\"getPosts\",value:function(){return fetch(\"https://\".concat(H,\"/get_posts\"))}},{key:\"sendPost\",value:function(n){return fetch(\"https://\".concat(H,\"/send_post?name=\").concat(n.name,\"&text=\").concat(n.text))}}]),n}(),L=g.a.div(C||(C=Object(m.a)([\"\\n  top: 0;\\n  position: sticky;\\n  margin: 0 auto;\\n  margin-bottom: 5%;\\n  padding-top: 5%;\\n  @media (max-width: 320px) {\\n    padding-top: 5px;\\n  }\\n\\n  max-width: 400px;\\n  display: flex;\\n  flex-direction: column;\\n\"]))),M=g.a.input(B||(B=Object(m.a)([\"\\n  padding: 10px;\\n  background-color: #746087;\\n  border: 1px solid #1e1d1f;\\n  border-radius: 10px;\\n  outline: none;\\n  font-family: 'Tourney', cursive;\\n  font-weight: 800;\\n\"]))),q=g.a.textarea(E||(E=Object(m.a)([\"\\n  min-height: 100px;\\n  padding: 10px;\\n  border-radius: 15px;\\n  outline: none;\\n  border: 1px solid #1e1d1f;\\n  background-color: #746087;\\n  font-family: 'Tourney', cursive;\\n  font-weight: 800;\\n\"]))),F=g.a.button(J||(J=Object(m.a)([\"\\n  margin-top: 7%;\\n  max-width: 120px;\\n  max-height: 40px;\\n  outline: none;\\n  border-radius: 30px;\\n  background: linear-gradient(45deg, #66538f 30%, #7984e8 60%, #2d3159);\\n  border: transparent;\\n  color: #000;\\n  font-size: 28px;\\n  font-family: 'Bungee Shade', cursive;\\n  font-weight: 900;\\n  cursor: pointer;\\n  letter-spacing: 1px;\\n  text-transform: uppercase;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  transition-duration: 0.5s;\\n  top: 0;\\n  position: relative;\\n  &:hover {\\n    top: 5px;\\n  }\\n\"]))),G=g.a.label(Y||(Y=Object(m.a)([\"\\n  margin-top: 25px;\\n  margin-bottom: 8px;\\n  color: #746087;\\n  font-size: 20px;\\n  font-family: 'Tourney', cursive;\\n\"]))),Q=g.a.div(_||(_=Object(m.a)([\"\\n  font-family: 'Tourney', cursive;\\n  margin-top: 3rem;\\n  margin-bottom: 5%;\\n  padding: 8px;\\n  color: #4ef2e7;\\n  text-align: center; \\n  font-size: 20px;     \\n  font-weight: 600;\\n  border: 2px solid  #4ef2e7;\\n  border-radius: 15px; \\n  max-width: 400px;\\n  max-height: 100px;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n\"]))),R=g.a.div(D||(D=Object(m.a)([\"\\n  color: #4ef2e7;\\n  font-size: 14px; \\n  min-height: 14px;\\n  margin-bottom: 2px;\\n\"])));function U(n){var e=d.useState(\"\"),t=Object(h.a)(e,2),i=t[0],a=t[1],r=d.useState(\"\"),c=Object(h.a)(r,2),o=c[0],s=c[1],u=d.useState(!0),x=Object(h.a)(u,2),p=x[0],l=x[1],j=d.useState(!0),b=Object(h.a)(j,2),f=b[0],m=b[1],g=d.useState(!1),O=Object(h.a)(g,2),w=O[0],y=O[1],k=function(){var e={name:i,text:o};i.trim()&&o.trim()?(n.onSend(e),y(!1)):y(!0),s(\"\")};return Object(v.jsxs)(L,{children:[Object(v.jsx)(G,{children:\"Your name\"}),Object(v.jsx)(R,{children:p?\"\":\"Please enter the name!\"}),Object(v.jsx)(M,{value:i,onChange:function(n){return a(n.target.value)},onBlur:function(){l(!!i)}}),Object(v.jsx)(G,{children:\"Share what`s in your mind\"}),Object(v.jsx)(R,{children:f?\"\":\"You can`t send empty messages :c\"}),Object(v.jsx)(q,{value:o,onKeyPress:function(n){\"Enter\"===n.key&&(k(),n.preventDefault())},onChange:function(n){return s(n.target.value)},onBlur:function(){m(!!o)}}),Object(v.jsx)(F,{onClick:k,children:\"go!\"}),w&&Object(v.jsx)(Q,{children:\"! You need to fill name and text areas !\"})]})}var V,X,Z,$,nn=function(){return Object(v.jsx)(\"div\",{style:{display:\"flex\",justifyContent:\"center\",margin:\".5rem\"},children:Object(v.jsx)(\"div\",{className:\"loadingio-spinner-bean-eater-hwm2danfbfh\",children:Object(v.jsxs)(\"div\",{className:\"ldio-fgtgkv4yzh6\",children:[Object(v.jsxs)(\"div\",{children:[Object(v.jsx)(\"div\",{}),Object(v.jsx)(\"div\",{}),Object(v.jsx)(\"div\",{})]}),Object(v.jsxs)(\"div\",{children:[Object(v.jsx)(\"div\",{}),Object(v.jsx)(\"div\",{}),Object(v.jsx)(\"div\",{})]})]})})})},en=g.a.section(V||(V=Object(m.a)([\"\\n  max-width: 100%;\\n  margin: 0 auto;\\n  padding: 0 20px 15px;\\n\"]))),tn=g.a.section(X||(X=Object(m.a)([\"\\n  height: 100vh;\\n\"]))),an=g.a.h1(Z||(Z=Object(m.a)([\"\\n  font-size: 56px;\\n  line-height: 80px;\\n  text-align: center;\\n  font-family: 'Tourney', cursive;\\n  font-weight: 600;\\n  background: linear-gradient(45deg, #41265c 33%, #2efef7 66%, #5f04b4);\\n  background-clip: text;\\n  -webkit-background-clip: text;\\n  -webkit-text-fill-color: transparent;\\n  @media (max-width: 320px) {\\n    margin-top: 5px;\\n    margin-bottom: 0;\\n  }\\n\"]))),rn=g.a.img($||($=Object(m.a)([\"\\n  width: 60px;\\n  height: 60px;\\n  max-width: 100%;\\n\"]))),cn=new K;function on(){var n=u.a.useState([]),e=Object(h.a)(n,2),t=e[0],i=e[1],a=u.a.useState(!1),r=Object(h.a)(a,2),c=r[0],o=r[1],s=function(){var n=Object(f.a)(b.a.mark((function n(e){return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,cn.sendPost(e);case 2:case\"end\":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),d=function(){var n=Object(f.a)(b.a.mark((function n(){var e;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o(!0),n.next=3,cn.getPosts();case 3:return e=n.sent,n.next=6,sn(3e3);case 6:return n.t0=i,n.next=9,e.json();case 9:n.t1=n.sent,(0,n.t0)(n.t1),o(!1);case 12:case\"end\":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return u.a.useEffect((function(){d()}),[]),u.a.useEffect((function(){cn.onNewPost((function(n){var e=[n].concat(Object(l.a)(t));i(e)}))}),[t]),Object(v.jsxs)(en,{children:[Object(v.jsxs)(tn,{children:[Object(v.jsxs)(an,{children:[\"Cozy Space \",Object(v.jsx)(rn,{src:O,alt:\"Asteroid\"})]}),c?Object(v.jsx)(nn,{}):Object(v.jsx)(U,{onSend:s})]}),Object(v.jsx)(T,{posts:t})]})}function sn(n){return new Promise((function(e){return setTimeout(e,n)}))}p.a.render(Object(v.jsx)(u.a.StrictMode,{children:Object(v.jsx)(on,{})}),document.getElementById(\"root\"))}},[[32,1,2]]]);","name":"static/js/main.44ca8f10.chunk.js","map":{"version":3,"sources":["static/js/main.44ca8f10.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","_templateObject","_templateObject2","_templateObject3","_templateObject4","_templateObject5","PostsList_templateObject","react","react_default","n","react_dom","react_dom_default","toConsumableArray","regenerator","regenerator_default","asyncToGenerator","slicedToArray","taggedTemplateLiteral","styled_components_browser_esm","asteroid","p","jsx_runtime","PostMessage","div","Object","UserData","UserName","PostUploadTime","time","TextMessage","PostItem","props","Date","timestamp","toLocaleString","navigator","language","hour","minute","children","name","text","List","PostsList","posts","map","item","_id","PostSendForm_templateObject","PostSendForm_templateObject2","PostSendForm_templateObject3","PostSendForm_templateObject4","PostSendForm_templateObject5","_templateObject6","_templateObject7","classCallCheck","createClass","client","serverAddress","Data_Posts","Posts","_this","ws","handleNewPost","WebSocket","concat","pingTimeout","pingInterval","onmessage","event","_this$handleNewPost","data","parsed","JSON","parse","call","key","value","callback","fetch","post","Form","Input","input","Textarea","textarea","Button","button","Label","label","ErrorText","ErrorTextSmall","PostSendForm","_React$useState","_React$useState2","setName","_React$useState3","_React$useState4","setText","_React$useState5","_React$useState6","validName","setValidName","_React$useState7","_React$useState8","validText","setValidText","_React$useState9","_React$useState10","hasError","setHasError","onButtonClick","trim","onSend","onChange","e","target","onBlur","onKeyPress","preventDefault","onClick","App_templateObject","App_templateObject2","App_templateObject3","App_templateObject4","Loader_Loader","style","display","justifyContent","margin","className","Wrapper","section","Main","Title","h1","Img","img","postsInteractive","App","a","useState","setPosts","loading","setLoading","_ref","mark","_callee","wrap","_context","prev","next","sendPost","stop","_x","apply","arguments","fetchPosts","_ref2","_callee2","newPosts","_context2","getPosts","sent","wait","t0","json","t1","useEffect","onNewPost","newPost","src","alt","ms","Promise","resolve","setTimeout","render","StrictMode","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpcozy-space-client\"] = this[\"webpackJsonpcozy-space-client\"] || []).push([[0],{\n\n/***/ 25:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 32:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(13);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(25);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(20);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(6);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(4);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\nvar taggedTemplateLiteral = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/styled-components/dist/styled-components.browser.esm.js\nvar styled_components_browser_esm = __webpack_require__(3);\n\n// CONCATENATED MODULE: ./src/assets/asteroid.svg\n/* harmony default export */ var asteroid = (__webpack_require__.p + \"static/media/asteroid.7252a113.svg\");\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/PostItem.tsx\nvar _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5;var PostMessage=styled_components_browser_esm[\"a\" /* default */].div(_templateObject||(_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  display: flex;\\n  flex-direction: column;\\n  font-family: 'Tourney', cursive;\\n  font-weight: 900;\\n\"])));var UserData=styled_components_browser_esm[\"a\" /* default */].div(_templateObject2||(_templateObject2=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: space-between;\\n  margin-bottom: 8px;\\n  padding: 0 25px;\\n\"])));var UserName=styled_components_browser_esm[\"a\" /* default */].div(_templateObject3||(_templateObject3=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  color: #746087;\\n  font-size: 12px;\\n\"])));var PostUploadTime=styled_components_browser_esm[\"a\" /* default */].time(_templateObject4||(_templateObject4=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  font-size: 12px;\\n  color: #6c6c6c;\\n\"])));var TextMessage=styled_components_browser_esm[\"a\" /* default */].div(_templateObject5||(_templateObject5=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  max-width: 400px;\\n  min-height: 50px;\\n  padding: 15px;\\n  border-radius: 30px;\\n  background-color: #7984e8;\\n  font-size: 14px;\\n  word-wrap: break-word;\\n\"])));function PostItem(props){var time=new Date(props.timestamp).toLocaleString(navigator.language,{hour:'2-digit',minute:'2-digit'});return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(PostMessage,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(UserData,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserName,{children:props.name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PostUploadTime,{children:time})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextMessage,{children:props.text})]});}\n// CONCATENATED MODULE: ./src/PostsList.tsx\nvar PostsList_templateObject;var List=styled_components_browser_esm[\"a\" /* default */].div(PostsList_templateObject||(PostsList_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  max-width: 400px;\\n  margin: 0 auto;\\n  display: flex;\\n  flex-direction: column;\\n  & > *:not(:first-child) {\\n    margin-top: 20px;\\n  }\\n\"])));function PostsList(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(List,{children:props.posts.map(function(item){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PostItem,{name:item.name,timestamp:item.timestamp,text:item.text},item._id);})});}\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(17);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(18);\n\n// EXTERNAL MODULE: ./node_modules/ws-heartbeat/client.js\nvar client = __webpack_require__(19);\n\n// CONCATENATED MODULE: ./src/Data.ts\nvar serverAddress=\"api-cozy-space.herokuapp.com\"||false;var Data_Posts=/*#__PURE__*/function(){function Posts(){var _this=this;Object(classCallCheck[\"a\" /* default */])(this,Posts);this.ws=void 0;this.handleNewPost=void 0;this.ws=new WebSocket(\"wss://\".concat(serverAddress));Object(client[\"setWsHeartbeat\"])(this.ws,'{\"kind\":\"ping\"}',{pingTimeout:60000,pingInterval:25000});this.ws.onmessage=function(event){var data=event.data;var parsed=JSON.parse(data);if(parsed.name&&parsed.text){var _this$handleNewPost;(_this$handleNewPost=_this.handleNewPost)===null||_this$handleNewPost===void 0?void 0:_this$handleNewPost.call(_this,parsed);}};}Object(createClass[\"a\" /* default */])(Posts,[{key:\"onNewPost\",value:function onNewPost(callback){this.handleNewPost=callback;}},{key:\"getPosts\",value:function getPosts(){return fetch(\"https://\".concat(serverAddress,\"/get_posts\"));}},{key:\"sendPost\",value:function sendPost(post){return fetch(\"https://\".concat(serverAddress,\"/send_post?name=\").concat(post.name,\"&text=\").concat(post.text));}}]);return Posts;}();\n// CONCATENATED MODULE: ./src/PostSendForm.tsx\nvar PostSendForm_templateObject,PostSendForm_templateObject2,PostSendForm_templateObject3,PostSendForm_templateObject4,PostSendForm_templateObject5,_templateObject6,_templateObject7;var Form=styled_components_browser_esm[\"a\" /* default */].div(PostSendForm_templateObject||(PostSendForm_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  top: 0;\\n  position: sticky;\\n  margin: 0 auto;\\n  margin-bottom: 5%;\\n  padding-top: 5%;\\n  @media (max-width: 320px) {\\n    padding-top: 5px;\\n  }\\n\\n  max-width: 400px;\\n  display: flex;\\n  flex-direction: column;\\n\"])));var Input=styled_components_browser_esm[\"a\" /* default */].input(PostSendForm_templateObject2||(PostSendForm_templateObject2=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  padding: 10px;\\n  background-color: #746087;\\n  border: 1px solid #1e1d1f;\\n  border-radius: 10px;\\n  outline: none;\\n  font-family: 'Tourney', cursive;\\n  font-weight: 800;\\n\"])));var Textarea=styled_components_browser_esm[\"a\" /* default */].textarea(PostSendForm_templateObject3||(PostSendForm_templateObject3=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  min-height: 100px;\\n  padding: 10px;\\n  border-radius: 15px;\\n  outline: none;\\n  border: 1px solid #1e1d1f;\\n  background-color: #746087;\\n  font-family: 'Tourney', cursive;\\n  font-weight: 800;\\n\"])));var Button=styled_components_browser_esm[\"a\" /* default */].button(PostSendForm_templateObject4||(PostSendForm_templateObject4=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  margin-top: 7%;\\n  max-width: 120px;\\n  max-height: 40px;\\n  outline: none;\\n  border-radius: 30px;\\n  background: linear-gradient(45deg, #66538f 30%, #7984e8 60%, #2d3159);\\n  border: transparent;\\n  color: #000;\\n  font-size: 28px;\\n  font-family: 'Bungee Shade', cursive;\\n  font-weight: 900;\\n  cursor: pointer;\\n  letter-spacing: 1px;\\n  text-transform: uppercase;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  transition-duration: 0.5s;\\n  top: 0;\\n  position: relative;\\n  &:hover {\\n    top: 5px;\\n  }\\n\"])));var Label=styled_components_browser_esm[\"a\" /* default */].label(PostSendForm_templateObject5||(PostSendForm_templateObject5=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  margin-top: 25px;\\n  margin-bottom: 8px;\\n  color: #746087;\\n  font-size: 20px;\\n  font-family: 'Tourney', cursive;\\n\"])));var ErrorText=styled_components_browser_esm[\"a\" /* default */].div(_templateObject6||(_templateObject6=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  font-family: 'Tourney', cursive;\\n  margin-top: 3rem;\\n  margin-bottom: 5%;\\n  padding: 8px;\\n  color: #4ef2e7;\\n  text-align: center; \\n  font-size: 20px;     \\n  font-weight: 600;\\n  border: 2px solid  #4ef2e7;\\n  border-radius: 15px; \\n  max-width: 400px;\\n  max-height: 100px;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n\"])));var ErrorTextSmall=styled_components_browser_esm[\"a\" /* default */].div(_templateObject7||(_templateObject7=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  color: #4ef2e7;\\n  font-size: 14px; \\n  min-height: 14px;\\n  margin-bottom: 2px;\\n\"])));function PostSendForm(props){var _React$useState=react[\"useState\"](''),_React$useState2=Object(slicedToArray[\"a\" /* default */])(_React$useState,2),name=_React$useState2[0],setName=_React$useState2[1];var _React$useState3=react[\"useState\"](''),_React$useState4=Object(slicedToArray[\"a\" /* default */])(_React$useState3,2),text=_React$useState4[0],setText=_React$useState4[1];var _React$useState5=react[\"useState\"](true),_React$useState6=Object(slicedToArray[\"a\" /* default */])(_React$useState5,2),validName=_React$useState6[0],setValidName=_React$useState6[1];var _React$useState7=react[\"useState\"](true),_React$useState8=Object(slicedToArray[\"a\" /* default */])(_React$useState7,2),validText=_React$useState8[0],setValidText=_React$useState8[1];var _React$useState9=react[\"useState\"](false),_React$useState10=Object(slicedToArray[\"a\" /* default */])(_React$useState9,2),hasError=_React$useState10[0],setHasError=_React$useState10[1];var onButtonClick=function onButtonClick(){var post={name:name,text:text};if(name.trim()&&text.trim()){props.onSend(post);setHasError(false);}else{setHasError(true);}setText('');};var onKeyEnter=function onKeyEnter(e){if(e.key==='Enter'){onButtonClick();e.preventDefault();}};var onNameBlur=function onNameBlur(){setValidName(!!name);};var onTextBlur=function onTextBlur(){setValidText(!!text);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Label,{children:\"Your name\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ErrorTextSmall,{children:!validName?'Please enter the name!':''}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Input,{value:name,onChange:function onChange(e){return setName(e.target.value);},onBlur:onNameBlur}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Label,{children:\"Share what`s in your mind\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ErrorTextSmall,{children:!validText?'You can`t send empty messages :c':''}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Textarea,{value:text,onKeyPress:onKeyEnter,onChange:function onChange(e){return setText(e.target.value);},onBlur:onTextBlur}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:onButtonClick,children:\"go!\"}),hasError&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ErrorText,{children:\"! You need to fill name and text areas !\"})]});}\n// CONCATENATED MODULE: ./src/Loader.tsx\nvar Loader_Loader=function Loader(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{display:'flex',justifyContent:'center',margin:'.5rem'},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"loadingio-spinner-bean-eater-hwm2danfbfh\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"ldio-fgtgkv4yzh6\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{})]})]})})});};\n// CONCATENATED MODULE: ./src/App.tsx\nvar App_templateObject,App_templateObject2,App_templateObject3,App_templateObject4;var Wrapper=styled_components_browser_esm[\"a\" /* default */].section(App_templateObject||(App_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  max-width: 100%;\\n  margin: 0 auto;\\n  padding: 0 20px 15px;\\n\"])));var Main=styled_components_browser_esm[\"a\" /* default */].section(App_templateObject2||(App_templateObject2=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  height: 100vh;\\n\"])));var Title=styled_components_browser_esm[\"a\" /* default */].h1(App_templateObject3||(App_templateObject3=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  font-size: 56px;\\n  line-height: 80px;\\n  text-align: center;\\n  font-family: 'Tourney', cursive;\\n  font-weight: 600;\\n  background: linear-gradient(45deg, #41265c 33%, #2efef7 66%, #5f04b4);\\n  background-clip: text;\\n  -webkit-background-clip: text;\\n  -webkit-text-fill-color: transparent;\\n  @media (max-width: 320px) {\\n    margin-top: 5px;\\n    margin-bottom: 0;\\n  }\\n\"])));var Img=styled_components_browser_esm[\"a\" /* default */].img(App_templateObject4||(App_templateObject4=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  width: 60px;\\n  height: 60px;\\n  max-width: 100%;\\n\"])));var postsInteractive=new Data_Posts();function App(){var _React$useState=react_default.a.useState([]),_React$useState2=Object(slicedToArray[\"a\" /* default */])(_React$useState,2),posts=_React$useState2[0],setPosts=_React$useState2[1];var _React$useState3=react_default.a.useState(false),_React$useState4=Object(slicedToArray[\"a\" /* default */])(_React$useState3,2),loading=_React$useState4[0],setLoading=_React$useState4[1];var onSend=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(post){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return postsInteractive.sendPost(post);case 2:case\"end\":return _context.stop();}}},_callee);}));return function onSend(_x){return _ref.apply(this,arguments);};}();var fetchPosts=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(){var newPosts;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setLoading(true);_context2.next=3;return postsInteractive.getPosts();case 3:newPosts=_context2.sent;_context2.next=6;return wait(3000);case 6:_context2.t0=setPosts;_context2.next=9;return newPosts.json();case 9:_context2.t1=_context2.sent;(0,_context2.t0)(_context2.t1);setLoading(false);case 12:case\"end\":return _context2.stop();}}},_callee2);}));return function fetchPosts(){return _ref2.apply(this,arguments);};}();react_default.a.useEffect(function(){fetchPosts();},[]);react_default.a.useEffect(function(){postsInteractive.onNewPost(function(newPost){var newPosts=[newPost].concat(Object(toConsumableArray[\"a\" /* default */])(posts));setPosts(newPosts);});},[posts]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Wrapper,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Main,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Title,{children:[\"Cozy Space \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Img,{src:asteroid,alt:\"Asteroid\"})]}),loading?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Loader_Loader,{}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PostSendForm,{onSend:onSend})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PostsList,{posts:posts})]});}function wait(ms){return new Promise(function(resolve){return setTimeout(resolve,ms);});}\n// CONCATENATED MODULE: ./src/index.tsx\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(App,{})}),document.getElementById('root'));\n\n/***/ })\n\n},[[32,1,2]]]);","inputSourceMap":{"version":3,"sources":["D:\\programming\\network.v1\\cozy-space-client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!D:\\programming\\network.v1\\cozy-space-client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!D:\\programming\\network.v1\\cozy-space-client\\node_modules\\postcss-loader\\src\\index.js??postcss!D:\\programming\\network.v1\\cozy-space-client\\src\\index.css","D:\\programming\\network.v1\\cozy-space-client\\node_modules\\file-loader\\dist\\cjs.js??ref--5-oneOf-8!D:\\programming\\network.v1\\cozy-space-client\\src\\assets\\asteroid.svg","D:/programming/network.v1/cozy-space-client/src/PostItem.tsx","D:/programming/network.v1/cozy-space-client/src/PostsList.tsx","D:/programming/network.v1/cozy-space-client/src/Data.ts","D:/programming/network.v1/cozy-space-client/src/PostSendForm.tsx","D:/programming/network.v1/cozy-space-client/src/Loader.tsx","D:/programming/network.v1/cozy-space-client/src/App.tsx","D:/programming/network.v1/cozy-space-client/src/index.tsx"],"names":["PostMessage","styled","div","UserData","UserName","PostUploadTime","time","TextMessage","PostItem","props","Date","timestamp","toLocaleString","navigator","language","hour","minute","name","text","List","PostsList","posts","map","item","_id","serverAddress","process","Posts","ws","handleNewPost","WebSocket","setWsHeartbeat","pingTimeout","pingInterval","onmessage","event","data","parsed","JSON","parse","callback","fetch","post","Form","Input","input","Textarea","textarea","Button","button","Label","label","ErrorText","ErrorTextSmall","PostSendForm","React","setName","setText","validName","setValidName","validText","setValidText","hasError","setHasError","onButtonClick","trim","onSend","onKeyEnter","e","key","preventDefault","onNameBlur","onTextBlur","target","value","Loader","display","justifyContent","margin","Wrapper","section","Main","Title","h1","Img","img","postsInteractive","App","useState","setPosts","loading","setLoading","sendPost","fetchPosts","getPosts","newPosts","wait","json","useEffect","onNewPost","newPost","asteroid","ms","Promise","resolve","setTimeout","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","export default __webpack_public_path__ + \"static/media/asteroid.7252a113.svg\";","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\n\r\nconst PostMessage = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  font-family: 'Tourney', cursive;\r\n  font-weight: 900;\r\n`\r\n\r\nconst UserData = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  margin-bottom: 8px;\r\n  padding: 0 25px;\r\n`\r\n\r\nconst UserName = styled.div`\r\n  color: #746087;\r\n  font-size: 12px;\r\n`\r\n\r\nconst PostUploadTime = styled.time`\r\n  font-size: 12px;\r\n  color: #6c6c6c;\r\n`\r\n\r\nconst TextMessage = styled.div`\r\n  max-width: 400px;\r\n  min-height: 50px;\r\n  padding: 15px;\r\n  border-radius: 30px;\r\n  background-color: #7984e8;\r\n  font-size: 14px;\r\n  word-wrap: break-word;\r\n`\r\n\r\ninterface Props {\r\n  name: string\r\n  timestamp: number\r\n  text: string\r\n}\r\n\r\nexport function PostItem(props: Props) {\r\n  const time = new Date(props.timestamp).toLocaleString(navigator.language, {\r\n    hour: '2-digit',\r\n    minute: '2-digit',\r\n  })\r\n  \r\n  return (\r\n    <PostMessage>\r\n      <UserData>\r\n        <UserName>{props.name}</UserName>\r\n        <PostUploadTime>{time}</PostUploadTime>\r\n      </UserData>\r\n      <TextMessage>{props.text}</TextMessage>\r\n    </PostMessage>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { PostItem } from './PostItem'\r\nimport { FullPost } from './types'\r\n\r\nconst List = styled.div`\r\n  max-width: 400px;\r\n  margin: 0 auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n  & > *:not(:first-child) {\r\n    margin-top: 20px;\r\n  }\r\n`\r\n\r\ninterface Props {\r\n  posts: FullPost[]\r\n}\r\n\r\nexport function PostsList(props: Props) {\r\n  return (\r\n    <List>\r\n      {props.posts.map((item) => (\r\n        <PostItem\r\n          key={item._id}\r\n          name={item.name}\r\n          timestamp={item.timestamp}\r\n          text={item.text}\r\n        />\r\n      ))}\r\n    </List>\r\n  )\r\n}\r\n","import { FullPost, Post } from './types'\r\nimport { setWsHeartbeat } from 'ws-heartbeat/client'\r\n\r\nconst serverAddress = process.env.REACT_APP_URL || '127.0.0.1:3001'\r\n\r\nexport class Posts {\r\n  private ws: WebSocket\r\n  private handleNewPost?: (post: FullPost) => void \r\n  \r\n  constructor() {\r\n    this.ws = new WebSocket(`wss://${serverAddress}`)\r\n    setWsHeartbeat(this.ws, '{\"kind\":\"ping\"}', {\r\n      pingTimeout: 60000,\r\n      pingInterval: 25000, \r\n    })\r\n    this.ws.onmessage = event => { \r\n      const { data } = event\r\n      const parsed = JSON.parse(data)\r\n      if (parsed.name && parsed.text) {\r\n        this.handleNewPost?.(parsed)\r\n      } \r\n    }\r\n  }\r\n\r\n  onNewPost(callback: (post: FullPost) => void) {\r\n    this.handleNewPost = callback\r\n  }\r\n\r\n  getPosts() {\r\n    return fetch(`https://${serverAddress}/get_posts`)\r\n  }\r\n  sendPost(post: Post) {\r\n    return fetch(`https://${serverAddress}/send_post?name=${post.name}&text=${post.text}`)\r\n  }\r\n}\r\n","import * as React from 'react'\r\nimport styled from 'styled-components'\r\nimport { Post } from './types'\r\n\r\nconst Form = styled.div`\r\n  top: 0;\r\n  position: sticky;\r\n  margin: 0 auto;\r\n  margin-bottom: 5%;\r\n  padding-top: 5%;\r\n  @media (max-width: 320px) {\r\n    padding-top: 5px;\r\n  }\r\n\r\n  max-width: 400px;\r\n  display: flex;\r\n  flex-direction: column;\r\n`\r\n\r\nconst Input = styled.input`\r\n  padding: 10px;\r\n  background-color: #746087;\r\n  border: 1px solid #1e1d1f;\r\n  border-radius: 10px;\r\n  outline: none;\r\n  font-family: 'Tourney', cursive;\r\n  font-weight: 800;\r\n`\r\n\r\nconst Textarea = styled.textarea`\r\n  min-height: 100px;\r\n  padding: 10px;\r\n  border-radius: 15px;\r\n  outline: none;\r\n  border: 1px solid #1e1d1f;\r\n  background-color: #746087;\r\n  font-family: 'Tourney', cursive;\r\n  font-weight: 800;\r\n`\r\n\r\nconst Button = styled.button`\r\n  margin-top: 7%;\r\n  max-width: 120px;\r\n  max-height: 40px;\r\n  outline: none;\r\n  border-radius: 30px;\r\n  background: linear-gradient(45deg, #66538f 30%, #7984e8 60%, #2d3159);\r\n  border: transparent;\r\n  color: #000;\r\n  font-size: 28px;\r\n  font-family: 'Bungee Shade', cursive;\r\n  font-weight: 900;\r\n  cursor: pointer;\r\n  letter-spacing: 1px;\r\n  text-transform: uppercase;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition-duration: 0.5s;\r\n  top: 0;\r\n  position: relative;\r\n  &:hover {\r\n    top: 5px;\r\n  }\r\n`\r\n\r\nconst Label = styled.label`\r\n  margin-top: 25px;\r\n  margin-bottom: 8px;\r\n  color: #746087;\r\n  font-size: 20px;\r\n  font-family: 'Tourney', cursive;\r\n`\r\n\r\nconst ErrorText = styled.div`\r\n  font-family: 'Tourney', cursive;\r\n  margin-top: 3rem;\r\n  margin-bottom: 5%;\r\n  padding: 8px;\r\n  color: #4ef2e7;\r\n  text-align: center; \r\n  font-size: 20px;     \r\n  font-weight: 600;\r\n  border: 2px solid  #4ef2e7;\r\n  border-radius: 15px; \r\n  max-width: 400px;\r\n  max-height: 100px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nconst ErrorTextSmall = styled.div`\r\n  color: #4ef2e7;\r\n  font-size: 14px; \r\n  min-height: 14px;\r\n  margin-bottom: 2px;\r\n`\r\n\r\ninterface Props {\r\n  onSend: (post: Post) => void\r\n}\r\n\r\nexport function PostSendForm(props: Props) {\r\n  const [name, setName] = React.useState('')\r\n  const [text, setText] = React.useState('')\r\n\r\n  const [validName, setValidName] = React.useState(true)\r\n  const [validText, setValidText] = React.useState(true)\r\n  const [hasError, setHasError] = React.useState(false);\r\n\r\n  const onButtonClick = () => {\r\n    const post: Post = {\r\n      name,\r\n      text,\r\n    }\r\n    \r\n    if (name.trim() && text.trim()){\r\n      props.onSend(post) \r\n      setHasError(false)\r\n    } else {\r\n      setHasError(true)\r\n    }\r\n    setText('')\r\n  }\r\n\r\n  const onKeyEnter = (e: React.KeyboardEvent) => {\r\n    if (e.key === 'Enter') {\r\n      onButtonClick()\r\n      e.preventDefault()\r\n    }\r\n  }\r\n\r\n  const onNameBlur = () => { \r\n    setValidName(!!name)\r\n  }\r\n\r\n  const onTextBlur = () => {\r\n    setValidText(!!text)\r\n  }\r\n\r\n  return (\r\n    <Form>\r\n      <Label>Your name</Label>\r\n      <ErrorTextSmall>{!validName ? 'Please enter the name!' : ''}</ErrorTextSmall>\r\n      <Input\r\n        value={name}\r\n        onChange={(e) => setName(e.target.value)} \r\n        onBlur={onNameBlur}\r\n      />\r\n      <Label>Share what`s in your mind</Label>\r\n      <ErrorTextSmall>{!validText ? 'You can`t send empty messages :c' : ''}</ErrorTextSmall>\r\n      <Textarea\r\n        value={text}\r\n        onKeyPress={onKeyEnter}\r\n        onChange={(e) => setText(e.target.value)}     \r\n        onBlur={onTextBlur}\r\n      />\r\n      <Button onClick={onButtonClick}>go!</Button>\r\n      {hasError && <ErrorText>! You need to fill name and text areas !</ErrorText>}\r\n    </Form>\r\n  )\r\n}\r\n","export const Loader = () => {\r\n  return (\r\n    <div style={{display: 'flex', justifyContent: 'center', margin: '.5rem'}}>\r\n      <div className=\"loadingio-spinner-bean-eater-hwm2danfbfh\">\r\n        <div className=\"ldio-fgtgkv4yzh6\">\r\n          <div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n          </div>\r\n          <div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport asteroid from './assets/asteroid.svg'\r\nimport { PostsList } from './PostsList'\r\nimport { Posts } from './Data'\r\nimport { PostSendForm } from './PostSendForm'\r\nimport { Post, FullPost } from './types'\r\nimport { Loader } from './Loader'\r\n\r\nconst Wrapper = styled.section`\r\n  max-width: 100%;\r\n  margin: 0 auto;\r\n  padding: 0 20px 15px;\r\n`\r\nconst Main = styled.section`\r\n  height: 100vh;\r\n`\r\nconst Title = styled.h1`\r\n  font-size: 56px;\r\n  line-height: 80px;\r\n  text-align: center;\r\n  font-family: 'Tourney', cursive;\r\n  font-weight: 600;\r\n  background: linear-gradient(45deg, #41265c 33%, #2efef7 66%, #5f04b4);\r\n  background-clip: text;\r\n  -webkit-background-clip: text;\r\n  -webkit-text-fill-color: transparent;\r\n  @media (max-width: 320px) {\r\n    margin-top: 5px;\r\n    margin-bottom: 0;\r\n  }\r\n`\r\n\r\nconst Img = styled.img`\r\n  width: 60px;\r\n  height: 60px;\r\n  max-width: 100%;\r\n`\r\n\r\nconst postsInteractive = new Posts()\r\n\r\nexport function App() {\r\n  const [posts, setPosts] = React.useState<FullPost[]>([])\r\n  const [loading, setLoading] = React.useState(false)\r\n\r\n  const onSend = async (post: Post) => {\r\n    await postsInteractive.sendPost(post)\r\n  }\r\n\r\n  const fetchPosts = async () => {\r\n    setLoading(true)\r\n    const newPosts = await postsInteractive.getPosts()\r\n    await wait(3000)\r\n    setPosts(await newPosts.json())\r\n    setLoading(false)\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    fetchPosts()\r\n  }, [])\r\n\r\n  React.useEffect(() => {\r\n    postsInteractive.onNewPost((newPost) => {\r\n      const newPosts = [newPost, ...posts]\r\n      setPosts(newPosts)\r\n    })\r\n  }, [posts])\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Main>\r\n        <Title>\r\n          Cozy Space <Img src={asteroid} alt=\"Asteroid\" />\r\n        </Title>\r\n        {loading ? <Loader /> : <PostSendForm onSend={onSend} />}\r\n      </Main>\r\n      <PostsList posts={posts} />\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nfunction wait(ms: number) {\r\n  return new Promise(resolve => setTimeout(resolve, ms))\r\n}","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport { App } from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"]}}