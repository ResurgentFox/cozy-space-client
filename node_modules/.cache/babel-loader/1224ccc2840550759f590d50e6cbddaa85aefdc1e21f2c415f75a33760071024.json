{"ast":null,"code":"import _taggedTemplateLiteral from\"D:/programming/network.v1/cozy-space-client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4;import React from'react';import styled from'styled-components';import asteroid from'./assets/asteroid.svg';import{PostsList}from'./PostsList';import{Posts}from'./Data';import{PostSendForm}from'./PostSendForm';import{Loader}from'./Loader';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Wrapper=styled.section(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  max-width: 100%;\\n  margin: 0 auto;\\n  padding: 0 20px 15px;\\n\"])));const Main=styled.section(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  min-height: 100vh;\\n\"])));const Title=styled.h1(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  font-size: 56px;\\n  line-height: 80px;\\n  text-align: center;\\n  font-family: 'Tourney', cursive;\\n  font-weight: 600;\\n  background: linear-gradient(45deg, #41265c 33%, #2efef7 66%, #5f04b4);\\n  background-clip: text;\\n  -webkit-background-clip: text;\\n  -webkit-text-fill-color: transparent;\\n  @media (max-width: 320px) {\\n    margin-top: 5px;\\n    margin-bottom: 0;\\n  }\\n\"])));const Img=styled.img(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  width: 60px;\\n  height: 60px;\\n  max-width: 100%;\\n\"])));const postsInteractive=new Posts();export function App(){const[posts,setPosts]=React.useState([]);const[loading,setLoading]=React.useState(false);const onSend=async post=>{await postsInteractive.sendPost(post);};const fetchPosts=async()=>{setLoading(true);const newPosts=await postsInteractive.getPosts();await wait(3000);setPosts(await newPosts.json());setLoading(false);};React.useEffect(()=>{fetchPosts();},[]);React.useEffect(()=>{postsInteractive.onNewPost(newPost=>{const newPosts=[newPost,...posts];setPosts(newPosts);});},[posts]);return/*#__PURE__*/_jsxs(Wrapper,{children:[/*#__PURE__*/_jsxs(Main,{children:[/*#__PURE__*/_jsxs(Title,{children:[\"Cozy Space \",/*#__PURE__*/_jsx(Img,{src:asteroid,alt:\"Asteroid\"})]}),loading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsx(PostSendForm,{onSend:onSend})]}),/*#__PURE__*/_jsx(PostsList,{posts:posts})]});}function wait(ms){return new Promise(resolve=>setTimeout(resolve,ms));}","map":{"version":3,"names":["React","styled","asteroid","PostsList","Posts","PostSendForm","Loader","jsx","_jsx","jsxs","_jsxs","Wrapper","section","_templateObject","_taggedTemplateLiteral","Main","_templateObject2","Title","h1","_templateObject3","Img","img","_templateObject4","postsInteractive","App","posts","setPosts","useState","loading","setLoading","onSend","post","sendPost","fetchPosts","newPosts","getPosts","wait","json","useEffect","onNewPost","newPost","children","src","alt","ms","Promise","resolve","setTimeout"],"sources":["D:/programming/network.v1/cozy-space-client/src/App.tsx"],"sourcesContent":["import React from 'react'\r\nimport styled from 'styled-components'\r\nimport asteroid from './assets/asteroid.svg'\r\nimport { PostsList } from './PostsList'\r\nimport { Posts } from './Data'\r\nimport { PostSendForm } from './PostSendForm'\r\nimport { Post, FullPost } from './types'\r\nimport { Loader } from './Loader'\r\n\r\nconst Wrapper = styled.section`\r\n  max-width: 100%;\r\n  margin: 0 auto;\r\n  padding: 0 20px 15px;\r\n`\r\nconst Main = styled.section`\r\n  min-height: 100vh;\r\n`\r\nconst Title = styled.h1`\r\n  font-size: 56px;\r\n  line-height: 80px;\r\n  text-align: center;\r\n  font-family: 'Tourney', cursive;\r\n  font-weight: 600;\r\n  background: linear-gradient(45deg, #41265c 33%, #2efef7 66%, #5f04b4);\r\n  background-clip: text;\r\n  -webkit-background-clip: text;\r\n  -webkit-text-fill-color: transparent;\r\n  @media (max-width: 320px) {\r\n    margin-top: 5px;\r\n    margin-bottom: 0;\r\n  }\r\n`\r\n\r\nconst Img = styled.img`\r\n  width: 60px;\r\n  height: 60px;\r\n  max-width: 100%;\r\n`\r\n\r\nconst postsInteractive = new Posts()\r\n\r\nexport function App() {\r\n  const [posts, setPosts] = React.useState<FullPost[]>([])\r\n  const [loading, setLoading] = React.useState(false)\r\n\r\n  const onSend = async (post: Post) => {\r\n    await postsInteractive.sendPost(post)\r\n  }\r\n\r\n  const fetchPosts = async () => {\r\n    setLoading(true)\r\n    const newPosts = await postsInteractive.getPosts()\r\n    await wait(3000)\r\n    setPosts(await newPosts.json())\r\n    setLoading(false)\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    fetchPosts()\r\n  }, [])\r\n\r\n  React.useEffect(() => {\r\n    postsInteractive.onNewPost((newPost) => {\r\n      const newPosts = [newPost, ...posts]\r\n      setPosts(newPosts)\r\n    })\r\n  }, [posts])\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Main>\r\n        <Title>\r\n          Cozy Space <Img src={asteroid} alt=\"Asteroid\" />\r\n        </Title>\r\n        {loading ? <Loader /> : <PostSendForm onSend={onSend} />}\r\n      </Main>\r\n      <PostsList posts={posts} />\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nfunction wait(ms: number) {\r\n  return new Promise(resolve => setTimeout(resolve, ms))\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}