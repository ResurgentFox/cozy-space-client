{"ast":null,"code":"export class Posts {\n  constructor() {\n    this.ws = void 0;\n    this.ws = new WebSocket('ws://127.0.0.1:3002/posts');\n  }\n\n  getPosts() {\n    // попробую тут добавить запрос к серверу через вебсокет\n    this.ws.send(JSON.stringify({\n      action: 'get_posts'\n    })); //а что значит экшн7 это мы сами придумываем, можно другое 3 мин я тут\n    //  просто нам как-то же нужно отличать message'и от клиента//Upgrade Required так пишет \n    // это где? 3002 тут, о смари в консоль: сервера вижу\n    // чет с ошибкой надо разобраться, ща\n\n    return fetch('http://127.0.0.1:3001/get_posts');\n  }\n\n  sendPost(post) {\n    return fetch(`http://127.0.0.1:3001/send_post?name=${post.name}&text=${post.text}`);\n  }\n\n}","map":{"version":3,"sources":["D:/programming/network.v1/cozy-space-client/src/Data.ts"],"names":["Posts","constructor","ws","WebSocket","getPosts","send","JSON","stringify","action","fetch","sendPost","post","name","text"],"mappings":"AAEA,OAAO,MAAMA,KAAN,CAAY;AAEjBC,EAAAA,WAAW,GAAG;AAAA,SADNC,EACM;AACZ,SAAKA,EAAL,GAAU,IAAIC,SAAJ,CAAc,2BAAd,CAAV;AACD;;AAEDC,EAAAA,QAAQ,GAAG;AACT;AACA,SAAKF,EAAL,CAAQG,IAAR,CAAaC,IAAI,CAACC,SAAL,CAAe;AAAEC,MAAAA,MAAM,EAAE;AAAV,KAAf,CAAb,EAFS,CAE6C;AACtD;AACA;AACA;;AACA,WAAOC,KAAK,CAAC,iCAAD,CAAZ;AACD;;AACDC,EAAAA,QAAQ,CAACC,IAAD,EAAa;AACnB,WAAOF,KAAK,CAAE,wCAAuCE,IAAI,CAACC,IAAK,SAAQD,IAAI,CAACE,IAAK,EAArE,CAAZ;AACD;;AAhBgB","sourcesContent":["import { Post } from './types'\r\n\r\nexport class Posts {\r\n  private ws: WebSocket\r\n  constructor() {\r\n    this.ws = new WebSocket('ws://127.0.0.1:3002/posts')\r\n  }\r\n\r\n  getPosts() {\r\n    // попробую тут добавить запрос к серверу через вебсокет\r\n    this.ws.send(JSON.stringify({ action: 'get_posts' })) //а что значит экшн7 это мы сами придумываем, можно другое 3 мин я тут\r\n    //  просто нам как-то же нужно отличать message'и от клиента//Upgrade Required так пишет \r\n    // это где? 3002 тут, о смари в консоль: сервера вижу\r\n    // чет с ошибкой надо разобраться, ща\r\n    return fetch('http://127.0.0.1:3001/get_posts')\r\n  }\r\n  sendPost(post: Post) {\r\n    return fetch(`http://127.0.0.1:3001/send_post?name=${post.name}&text=${post.text}`)\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}