(this["webpackJsonpcozy-space-client"]=this["webpackJsonpcozy-space-client"]||[]).push([[0],{25:function(n,t,e){},32:function(n,t,e){"use strict";e.r(t);var i,a,r,c,o,s,d=e(1),u=e.n(d),p=e(13),x=e.n(p),l=(e(25),e(20)),j=e(6),b=e.n(j),f=e(9),h=e(4),m=e(2),g=e(3),O=e.p+"static/media/asteroid.7252a113.svg",v=e(0),w=g.a.div(i||(i=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  font-family: 'Tourney', cursive;\n  font-weight: 900;\n"]))),y=g.a.div(a||(a=Object(m.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  margin-bottom: 8px;\n  padding: 0 25px;\n"]))),k=g.a.div(r||(r=Object(m.a)(["\n  color: #746087;\n  font-size: 12px;\n"]))),S=g.a.time(c||(c=Object(m.a)(["\n  font-size: 12px;\n  color: #6c6c6c;\n"]))),z=g.a.div(o||(o=Object(m.a)(["\n  max-width: 400px;\n  min-height: 50px;\n  padding: 15px;\n  border-radius: 30px;\n  background-color: #7984e8;\n  font-size: 14px;\n  word-wrap: break-word;\n"])));function P(n){var t=new Date(n.timestamp).toLocaleString(navigator.language,{hour:"2-digit",minute:"2-digit"});return Object(v.jsxs)(w,{children:[Object(v.jsxs)(y,{children:[Object(v.jsx)(k,{children:n.name}),Object(v.jsx)(S,{children:t})]}),Object(v.jsx)(z,{children:n.text})]})}var N=g.a.div(s||(s=Object(m.a)(["\n  max-width: 400px;\n  margin: 0 auto;\n  display: flex;\n  flex-direction: column;\n  & > *:not(:first-child) {\n    margin-top: 20px;\n  }\n"])));function T(n){return Object(v.jsx)(N,{children:n.posts.map((function(n){return Object(v.jsx)(P,{name:n.name,timestamp:n.timestamp,text:n.text},n._id)}))})}var C,E,J,_,B,D=e(17),I=e(18),W=e(19),A="api-cozy-space.herokuapp.com",H=function(){function n(){var t=this;Object(D.a)(this,n),this.ws=void 0,this.handleNewPost=void 0,this.ws=new WebSocket("wss://".concat(A)),Object(W.setWsHeartbeat)(this.ws,'{"kind":"ping"}',{pingTimeout:6e4,pingInterval:25e3}),this.ws.onmessage=function(n){var e,i=n.data,a=JSON.parse(i);a.name&&a.text&&(null===(e=t.handleNewPost)||void 0===e||e.call(t,a))}}return Object(I.a)(n,[{key:"onNewPost",value:function(n){this.handleNewPost=n}},{key:"getPosts",value:function(){return fetch("https://".concat(A,"/get_posts"))}},{key:"sendPost",value:function(n){return fetch("https://".concat(A,"/send_post?name=").concat(n.name,"&text=").concat(n.text))}}]),n}(),K=g.a.div(C||(C=Object(m.a)(["\n  top: 0;\n  position: sticky;\n  margin: 0 auto;\n  margin-bottom: 5%;\n  padding-top: 5%;\n  @media (max-width: 320px) {\n    padding-top: 5px;\n  }\n\n  max-width: 400px;\n  display: flex;\n  flex-direction: column;\n"]))),L=g.a.input(E||(E=Object(m.a)(["\n  padding: 10px;\n  background-color: #746087;\n  border: 1px solid #1e1d1f;\n  border-radius: 10px;\n  outline: none;\n  font-family: 'Tourney', cursive;\n  font-weight: 800;\n"]))),M=g.a.textarea(J||(J=Object(m.a)(["\n  min-height: 100px;\n  padding: 10px;\n  border-radius: 15px;\n  outline: none;\n  border: 1px solid #1e1d1f;\n  background-color: #746087;\n  font-family: 'Tourney', cursive;\n  font-weight: 800;\n"]))),Y=g.a.button(_||(_=Object(m.a)(["\n  margin-top: 7%;\n  max-width: 120px;\n  max-height: 40px;\n  outline: none;\n  border-radius: 30px;\n  background: linear-gradient(45deg, #66538f 30%, #7984e8 60%, #2d3159);\n  border: transparent;\n  color: #000;\n  font-size: 28px;\n  font-family: 'Bungee Shade', cursive;\n  font-weight: 900;\n  cursor: pointer;\n  letter-spacing: 1px;\n  text-transform: uppercase;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition-duration: 0.5s;\n  top: 0;\n  position: relative;\n  &:hover {\n    top: 5px;\n  }\n"]))),q=g.a.label(B||(B=Object(m.a)(["\n  margin-top: 25px;\n  margin-bottom: 8px;\n  color: #746087;\n  font-size: 20px;\n  font-family: 'Tourney', cursive;\n"])));function F(n){var t=d.useState(""),e=Object(h.a)(t,2),i=e[0],a=e[1],r=d.useState(""),c=Object(h.a)(r,2),o=c[0],s=c[1],u=function(){var t={name:i,text:o};n.onSend(t),s("")};return Object(v.jsxs)(K,{children:[Object(v.jsx)(q,{children:"Your name"}),Object(v.jsx)(L,{value:i,onChange:function(n){return a(n.target.value)}}),Object(v.jsx)(q,{children:"Share what`s in your mind"}),Object(v.jsx)(M,{value:o,onKeyPress:function(n){"Enter"===n.key&&(u(),n.preventDefault())},onChange:function(n){return s(n.target.value)}}),Object(v.jsx)(Y,{onClick:u,children:"go!"})]})}var G,Q,R,U,V=function(){return Object(v.jsx)("div",{style:{display:"flex",justifyContent:"center",margin:".5rem"},children:Object(v.jsx)("div",{className:"loadingio-spinner-bean-eater-hwm2danfbfh",children:Object(v.jsxs)("div",{className:"ldio-fgtgkv4yzh6",children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{}),Object(v.jsx)("div",{}),Object(v.jsx)("div",{})]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{}),Object(v.jsx)("div",{}),Object(v.jsx)("div",{})]})]})})})},X=g.a.section(G||(G=Object(m.a)(["\n  max-width: 100%;\n  margin: 0 auto;\n  padding: 0 20px 15px;\n"]))),Z=g.a.section(Q||(Q=Object(m.a)(["\n  height: 100vh;\n"]))),$=g.a.h1(R||(R=Object(m.a)(["\n  font-size: 56px;\n  line-height: 80px;\n  text-align: center;\n  font-family: 'Tourney', cursive;\n  font-weight: 600;\n  background: linear-gradient(45deg, #41265c 33%, #2efef7 66%, #5f04b4);\n  background-clip: text;\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  @media (max-width: 320px) {\n    margin-top: 5px;\n    margin-bottom: 0;\n  }\n"]))),nn=g.a.img(U||(U=Object(m.a)(["\n  width: 60px;\n  height: 60px;\n  max-width: 100%;\n"]))),tn=new H;function en(){var n=u.a.useState([]),t=Object(h.a)(n,2),e=t[0],i=t[1],a=u.a.useState(!1),r=Object(h.a)(a,2),c=r[0],o=r[1],s=function(){var n=Object(f.a)(b.a.mark((function n(t){return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,tn.sendPost(t);case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),d=function(){var n=Object(f.a)(b.a.mark((function n(){var t;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o(!0),n.next=3,tn.getPosts();case 3:return t=n.sent,n.next=6,an(3e3);case 6:return n.t0=i,n.next=9,t.json();case 9:n.t1=n.sent,(0,n.t0)(n.t1),o(!1);case 12:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return u.a.useEffect((function(){d()}),[]),u.a.useEffect((function(){tn.onNewPost((function(n){var t=[n].concat(Object(l.a)(e));i(t)}))}),[e]),Object(v.jsxs)(X,{children:[Object(v.jsxs)(Z,{children:[Object(v.jsxs)($,{children:["Cozy Space ",Object(v.jsx)(nn,{src:O,alt:"Asteroid"})]}),c?Object(v.jsx)(V,{}):Object(v.jsx)(F,{onSend:s})]}),Object(v.jsx)(T,{posts:e})]})}function an(n){return new Promise((function(t){return setTimeout(t,n)}))}x.a.render(Object(v.jsx)(u.a.StrictMode,{children:Object(v.jsx)(en,{})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.9a691d82.chunk.js.map